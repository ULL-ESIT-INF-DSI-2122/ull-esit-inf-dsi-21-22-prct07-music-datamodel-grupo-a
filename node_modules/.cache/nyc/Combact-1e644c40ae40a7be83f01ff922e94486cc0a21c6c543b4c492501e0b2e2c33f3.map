{"version":3,"file":"/home/usuario/p6/src/ejercicio-01/Combact.ts","sources":["/home/usuario/p6/src/ejercicio-01/Combact.ts"],"names":[],"mappings":"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","sourcesContent":["import {Fighter} from './Fighter';\nimport {Pokemon} from './Pokemon';\nimport {DC} from './DC';\nimport {StarWars} from './StarWars';\n\n/**\n * This is a simple class\n */\nexport class Combact {\n    /**\n     * El constructor de la clase recive dos peleadores que son los que tendran el combate\n     * @param peleador1 Es el primer peleador\n     * @param peleador2 Es el segundo peleador\n     */\n    constructor(private peleador1: Fighter, private peleador2: Fighter){\n\n    }\n\n    /**\n     * Retorna el ateque que hará el pelador 1 sobre el 2.\n     * @param peleador1 Es el peleador que dara el ataque\n     * @param peleador2 Es el que recibe el ataque\n     * @return retorna el ataque que hará teniendo en cuenta la efectividad y la defensa.\n     */\n    ataque(peleador1: Fighter, peleador2: Fighter): number {\n        let efectividad: number;\n        //Lucha Pokemon\n        if(peleador1 instanceof Pokemon && peleador2 instanceof Pokemon) {\n            if(peleador1.getTipo() == peleador2.getTipo()){\n                efectividad = 0.5;\n            }\n            else if(((peleador1.getTipo() == \"fuego\") && (peleador2.getTipo() == \"hierba\")) ||\n            ((peleador1.getTipo() == \"agua\") && (peleador2.getTipo() == \"fuego\")) ||\n            ((peleador1.getTipo() == \"hierba\") && (peleador2.getTipo() == \"agua\")) ||\n            ((peleador1.getTipo() == \"eléctrico\") && (peleador2.getTipo() == \"agua\"))) {\n                efectividad = 2;\n            }\n            else if(((peleador1.getTipo() == \"hierba\") && (peleador2.getTipo() == \"fuego\")) ||\n            ((peleador1.getTipo() == \"fuego\") && (peleador2.getTipo() == \"agua\")) ||\n            ((peleador1.getTipo() == \"agua\") && (peleador2.getTipo() == \"hierba\")) ||\n            ((peleador1.getTipo() == \"agua\") && (peleador2.getTipo() == \"eléctrico\"))) {\n                efectividad = 0.5;\n            }\n            else if(((peleador1.getTipo() == \"fuego\") && (peleador2.getTipo() == \"eléctrico\")) ||\n            ((peleador1.getTipo() == \"eléctrico\") && (peleador2.getTipo() == \"fuego\")) ||\n            ((peleador1.getTipo() == \"hierba\") && (peleador2.getTipo() == \"eléctrico\")) ||\n            ((peleador1.getTipo() == \"eléctrico\") && (peleador2.getTipo() == \"hierba\"))) {\n                efectividad = 1;\n            }\n        }\n        else if((peleador1 instanceof DC && peleador2 instanceof StarWars) || \n        (peleador1 instanceof Pokemon && peleador2 instanceof DC) ||\n        (peleador1 instanceof StarWars && peleador2 instanceof Pokemon)){\n            efectividad = 2;\n        }\n        else if((peleador1 instanceof StarWars && peleador2 instanceof DC) || \n        (peleador1 instanceof DC && peleador2 instanceof Pokemon) ||\n        (peleador1 instanceof Pokemon && peleador2 instanceof StarWars)){\n            efectividad = 0.5;\n        }\n        else {\n            efectividad = 1;\n        }\n\n        return 50 * (peleador1.getAtaque() / peleador2.getDefensa()) * efectividad;\n    }\n\n    /**\n     * Este método simula la batalla entre los dos peleadores, cada turno un peleador lanza un ataque, hasta que uno gana cuando el otro se queda sin salud.\n     */\n    start() {\n        let daño: number;\n        while(this.peleador1.getHp() > 0 && this.peleador2.getHp() > 0) {\n            daño = this.ataque(this.peleador1, this.peleador2);\n            this.peleador2.setHp(this.peleador2.getHp() - daño);\n            console.log(this.peleador1.gritoDeAtaque() + ' de daño ' + daño);\n            if(this.peleador2.getHp() <= 0){\n                console.log(\"Y ha matado a \" + this.peleador2.getNombre());\n                break;\n            }\n            daño = this.ataque(this.peleador2, this.peleador1);\n            this.peleador1.setHp(this.peleador1.getHp() - daño);\n            console.log(this.peleador2.gritoDeAtaque() + ' de daño ' + daño);\n            if(this.peleador1.getHp() <= 0){\n                console.log(\"Y ha matado a \" + this.peleador1.getNombre());\n                break;\n            }\n        }\n    }\n}"]}